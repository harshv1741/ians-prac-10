<!doctype html>
	<!DOCTYPE html>
	<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="newcss.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Megrim&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css2?family=Megrim&family=Quicksand:wght@300;400&display=swap" rel="stylesheet">
		<title>simulation</title>
	</head>
	<body>
		<nav class="navbar">
        	<img src="cryptography.jpg">
        	<span>CRYPTOGRAPHY</span>
        	<span id="vlab">Virtual lab</span>
            <ul>
                <li><a href="newhome.html">HOME</a></li>
            </ul>
        </nav>
       <div class="parent">
       	<p class="heading">Chinese Remainder Theorem</p><br/><br/>
       <h2>SIMULATION</h2><br/>
          <div class="flex-container">
            <div class="container1">
              <h3>Enter values in equations &nbsp;</h3><br/>
        
              <p>X = <input type="text" id="a1" placeholder=" a1 " > (mod <input type="text" id="m1" placeholder=" m1 ">)</p><br/>
            
              <p>X =  <input type="text"  id="a2" placeholder=" a2 "> (mod
              <input type="text"  id="m2" placeholder=" m2 " >)</p><br/>
            
              <p>X = <input type="text" id="a3" placeholder=" a3 " > (mod 
              <input type="text" id="m3" placeholder=" m3 ">)</p><br/>
              <button class="btn" onclick="opr()">Submit</button><br/><br/>

            </div>
            <div class="container2">
              <h3>Output &nbsp;</h3><br/>
              <div class="outputdiv"> 
              <h4 id="m1inv"></h4>
              <h4 id="m2inv"></h4>
              <h4 id="m3inv"></h4>
              <h3 id="result">Result will be displayed here...</h3>
          </div>
        </div>
	
		<script>
		    function mul_inv(a, b) {
            var b0 = b;
            var x0 = 0;
            var x1 = 1;
            var q, tmp;
            if (b == 1) {
                return 1;
            }
            while (a > 1) {
                q = parseInt(a / b);
                tmp = a;
                a = b;
                b = tmp % b;
                tmp = x0;
                x0 = x1 - (q * x0);
                x1 = tmp;
            }
            if (x1 < 0) {
                x1 = x1 + b0;
            }
            return x1;
        }
        function opr() {
            var a1 = parseInt(document.getElementById("a1").value);
            var a2 = parseInt(document.getElementById("a2").value);
            var a3 = parseInt(document.getElementById("a3").value);
            var m1 = parseInt(document.getElementById("m1").value);
            var m2 = parseInt(document.getElementById("m2").value);
            var m3 = parseInt(document.getElementById("m3").value);
            var num = [];
            num.push(a1);
            num.push(a2);
            num.push(a3);
            var rem = [];
            rem.push(m1);
            rem.push(m2);
            rem.push(m3);
            var k = 3;
            var m = m1 * m2 * m3;
            var N1 = m / m1;
            var N2 = m / m2;
            var N3 = m / m3;
            var m_inv1 = mul_inv(N1, m1);
            var m_inv2 = mul_inv(N2, m2);
            var m_inv3 = mul_inv(N3, m3);
            var x = ((a1 * N1 * m_inv1) + (a2 * N2 * m_inv2) + (a3 * N3 * m_inv3)) % m;
            document.getElementById("m1inv").innerHTML = "  M1 inverse = " + m_inv1;
            document.getElementById("m2inv").innerHTML = "  M2 inverse = " + m_inv2;
            document.getElementById("m3inv").innerHTML = "  M3 inverse = " + m_inv3;
            document.getElementById("result").innerHTML = "The value of X is: " + x;
    }
       </script>
	</body>
	</html>